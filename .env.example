# ========================================
# ECB Test Environment Configuration
# ========================================
# File ini berisi contoh konfigurasi untuk aplikasi ECB Test.
# Copy file ini menjadi .env dan sesuaikan dengan kebutuhan.

# ========================================
# APPLICATION SETTINGS
# ========================================
APP_ENV=production
APP_DEBUG=false
APP_KEY=your-app-key-here
APP_TITLE=ECB Test
APP_VERSION=1.0.0
APP_DESCRIPTION=Electronic Control Board Testing Application
APP_ICON=assets/logo-nb.webp
APP_THEME_DEFAULT=

# ========================================
# DATABASE CONFIGURATION
# ========================================
# Database lokal ECB
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=ecb_user
DB_PASSWORD=your_password_here
DB_DATABASE=ecbtest

# Database SIMO (untuk sync master data)
DBSIMOPRD_HOST=192.168.1.100
DBSIMOPRD_PORT=3306
DBSIMOPRD_DATABASE=simo_prd
DBSIMOPRD_USERNAME=simo_user
DBSIMOPRD_PASSWORD=simo_password

# Database BSERV (untuk kirim data ecb)
DBBSERV_HOST=192.168.1.101
DBBSERV_PORT=3306
DBBSERV_DATABASE=bserv
DBBSERV_USERNAME=bserv_user
DBBSERV_PASSWORD=bserv_password

# ========================================
# JWT AUTHENTICATION
# ========================================
JWT_SECRET=your-secret-key-change-this-in-production
JWT_EXPIRATION_IN_SECONDS=3600

# ========================================
# ECB LINE CONFIGURATION
# ========================================
ECB_LOCATION=Production Line A
ECB_LINE_TYPE=refrig-double
# Contoh line types:
#   - sn-only-single
#   - sn-only-double
#   - refrig-single
#   - refrig-double
#   - refrig-po-single
#   - refrig-po-double

ECB_LINEIDS=REF A, REF B
ECB_WORKCENTERS=WC-REF,WC-REF
ECB_TACKTIME=60
ECB_STATE_DEFAULT=0.0.0.1

# ECB Mode: LIVE | simulateAll | simulateHW | simulateDB
ECB_MODE=simulateAll

# ========================================
# OPTIMIZATION SETTINGS (NEW!)
# ========================================
# Konfigurasi ini untuk mengoptimalkan aplikasi di Raspberry Pi

# GPIO Polling Interval (milliseconds)
# Default: 250ms
# Rekomendasi RPi: 300-500ms untuk menghemat CPU
# Jangan terlalu tinggi agar GPIO tetap responsif
GPIO_POLL_INTERVAL_MS=250

# GPIO Adaptive Polling
# Jika true, polling akan melambat saat tidak ada perubahan state
# Default: true (direkomendasikan untuk RPi)
GPIO_ADAPTIVE_POLLING=true

# Scheduler Intervals (dalam menit)
# Sesuaikan berdasarkan kebutuhan sync data dan resource availability

# CleanMutex interval - membersihkan file mutex lama
# Default: 10 menit
# Rekomendasi RPi: 30 menit
SCHEDULER_CLEAN_MUTEX_INTERVAL=10

# PostEcbData interval - push data ke SIMO/BSERV
# Default: 5 menit
# Rekomendasi RPi: 10 menit
SCHEDULER_POST_DATA_INTERVAL=5

# SyncEcbPo interval - sync PO data
# Default: 10 menit
# Rekomendasi RPi: 15 menit
SCHEDULER_SYNC_PO_INTERVAL=10

# Database Optimization
# Force Raspberry Pi mode untuk connection pooling
# Default: auto-detect (cek /proc/device-tree/model)
# Set ke true untuk force RPi mode (max conn: 3, idle: 1)
# Set ke false untuk force desktop mode (max conn: 5, idle: 2)
# DB_IS_RASPBERRY_PI=true

# ========================================
# RESOURCE MONITORING
# ========================================
# Enable monitoring dashboard di terminal
# WARNING: Monitoring menambah overhead kecil (~1-2% CPU)
# Sebaiknya hanya enabled saat debugging atau analisis performa
ENABLE_RESOURCE_MONITOR=false

# Monitoring update interval (detik)
# Default: 2 detik
# Jangan terlalu cepat untuk menghindari overhead
RESOURCE_MONITOR_INTERVAL=2

# ========================================
# ADMIN SETTINGS
# ========================================
ADMIN_MENU_PASSWORD=ecb123

# ========================================
# SYSTEM COMMANDS (Linux/RPi only)
# ========================================
# SIMO_SHUTDOWN_COMMAND=sudo shutdown -h now
# SIMO_REBOOT_COMMAND=sudo reboot

# ========================================
# NOTES FOR RASPBERRY PI DEPLOYMENT
# ========================================
# 1. Set GPIO_POLL_INTERVAL_MS=400 untuk menghemat CPU
# 2. Set SCHEDULER_*_INTERVAL lebih tinggi (2x default)
# 3. Set ENABLE_RESOURCE_MONITOR=true untuk monitoring awal
# 4. Gunakan ECB_MODE=LIVE untuk production dengan GPIO hardware
# 5. Build dengan: make build-rpi-optimized
# 6. Monitor resource dengan: ENABLE_RESOURCE_MONITOR=true ./ecom-rpi
